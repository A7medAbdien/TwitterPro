<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.plot.ly/plotly-2.20.0.min.js"></script>
</head>
<body>
<div id="plotly-div"></div>

<script>
    jQuery.ajax({
        url: "http://127.0.0.1:8000/tf",
        type: 'GET',
        dataType: 'json',
        success: function (data) {
            const [x, y] = data
            console.log(x)
            console.log(y)

            var data = [{
                x: x,
                y: y,
                type: 'bar',
                text: y,
                textfont: {
                    family: 'Arial',
                    size: 16,
                    color: '#fcfcfc'
                }
            }];

            var layout = {
                xaxis: {
                    tickvals: x,
                    ticktext: x
                }
            };

            Plotly.newPlot('plotly-div', data, layout);
        }
    })
</script>
<div id="myDiv"></div>
<script>
    var data = [{
        x: ['A', 'B', 'C', 'D'],
        y: [10, 20, 15, 25],
        type: 'bar',
        text: [10, 20, 15, 25],
        textfont: {
            family: 'Arial',
            size: 16,
            color: '#fcfcfc'
        }
    }];

    var layout = {
        xaxis: {
            tickvals: ['A', 'B', 'C', 'D'],
            ticktext: ['Apple', 'Banana', 'Cherry', 'Date']
        }
    };

    Plotly.newPlot('myDiv', data, layout);
</script>
<script>
    fetch("http://127.0.0.1:8000/api")
        .then(res => res.json())
        .then(data => {
            console.log(data);
        })
</script>
</body>
</html>